<!DOCTYPE html>
<html>
<head><title>Wk5 Ex1</title></head>
<body>
    
    <h2>Form Validation</h2>

    <form name="form" action="ex1.html" onsubmit="return validateForm()" autocomplete="on" >
        ID: <input type="text" name="id" ><br>
        Age: <input type="number" name="age" ><br>
        Email: <input type="text" name="email" ><br>
        Password: <input type="password" name="password" ><br>
        <input type="submit" value="Submit"><br>
    </form>

    <script>    
        function validateForm() {
            // let x = document.getElementsByName("id"); // or you can use getElementsById or getElementsByTagName
            // console.log(x);
   
   // return true if ok, false if there is a validation error
            let userId = document.getElementsByName ("id")[0];
            let userEmail = document.getElementsByName ("email")[0];
            let userAge = document.getElementsByName ("age")[0];
            let userPw = document.getElementsByName ("password")[0];
            
            let check = true;
            let errorMessage = "";

            if (userId.value.length > 10){
                check = false;
                errorMessage = errorMessage + "ID has more than 10 characters \n";
            }

            if (userEmail.value.includes("@") == false){
                check = false; 
                errorMessage = errorMessage + "Email must contain '@' \n";
            }

            if (userAge.value < 10 || userAge.value > 40 ){
                check = false; 
                errorMessage = errorMessage + "Age must be between 10 and 40 \n";
            }

            if (userPw.value.length == 0){
                check = false;
                errorMessage = errorMessage + "Password must not be empty \n";
            }

            if (check == false){
                alert(errorMessage);
                return false;
            }

            else {
                alert ("Your password is good!");
                return true;
            }
        }
    </script>
</body>
</html>